# W02
## 任务一
1. 用plantuml画出example的类图与Scene中main方法执行过程中的对象时序图；

类图：
![](http://www.plantuml.com/plantuml/png/PL9DRnGn3BtdLrXxocXtaBZcL7hf1I54WKlLGtRNR2CooIWVGAdwtx7pCSnEBvFOVl5xp-ERc7H8URB2k8JXXpuXtFj0rnS1iBTUdoLQdD2bg0Zoy3XmFX94bji5qsUh7GMlOjNZet7wQB4qYGJnqIJZdPpRHVNCe7vvS-wTEcnOwgtoNTkCb2O69ZfP7IFSvYDnLBbWfhdfN1aOTHKDV8-_zImR7_L0boUuypcSLs_NmiTmk1oEe819ANoZNK1zBmkGcSf8NcYcoPnUINOftpv_qUwd3FGf65MoZEHKCqKHwrice9rFJnWgjelknaaaALm4nKNHmwFOSr5QT9Vqj4XA_aC8-fcucZ-ndtEIjWOzUG33BneRZrssH0DSAtZNMKdAffFefIt587WTMh0jRctU8Vvj_x7F56WeDQtgiHuuaEAllKvU5yJOKtoFPJiKBqajpZf4B4iyqqVTfs3SPMWdJPGW-0TFEQ6C2MSL6w0lBXcgpUHLw_y0iedVPdPRh6BlpKuvXjtx7VXnXDsdtVLaHTtFMlTqRkkLgXJ61cYkRz2TysJ_0G00)

类之间关系可以概括为：The **Geezer** uses a **Sorter** to lineUp a **Line** of **Linables**.

时序图：
![](http://www.plantuml.com/plantuml/png/TL9DRnCn4BtxL-mjwO4BuaFA0HKESE60X3XLFJY9sQvmxSKxAn5EbK2qf2HHM-3G1YGG7n6eQMwijchuC_PcVmRZtM1C1BdapVZvpNkpNa-0AaYtEUb80KhomFuIgO2f2WOqMPQ4Ta0kcm5iiJkCFMMgPhYIF4vPofOa7Wc4JiQME8Ppre58YYG8PQgwYJklIq8QCLgAEb5C1GHSXe6dWIKIsZ8LNQfwjkbZ9DoMyZ9fC04HzEfR3Zl25TBeKg1jcbJs77Q4gwJX-_HnJRX6I1NkqeqwP2imUoVcF7VTEWlsunIQQqH8O86AmYq8Y9czkAwpR-N1zxB_nKoUwMn8R2EMIMHdB4uodHykpW_Cz9WmqGtiPU8sRDLTWGFAuGypUcjUd-binqpVw_a-gRvNHLoYLkskji7PG_ZjLsVvhRJTvkn-HVHk-YCI1lKv9d5zBxlzUn3ZeGMhbq7UL8hscck8xqQ2uh2DJMyXBa9nDlAseBF-ulYvMv8truk5pu5scugAHqah4h2nkVOdejDr6gXdgVfYZB6BuQ79Hth-hXXC_x6m2ZJ_biCFLtdSAKu_w_nJCVXO70rGhPpEpCKRCvx4dABlq_ziCMHm3mchEtGlXJrXdHHOqwgil9Znn7ij_UBbr_B3Azy1AN_kBYRxvVp8xEPcRyPbQ7sunxEEADtclm00)
 
2. 尝试从面向对象编程角度理解`example`的设计理念，具体阐述这样写的好处与可改进之处（越详细越好）；

好处：排序相关的设计将操作者、具体的排序操作和被排序的对象三者分离开来，不同的Sorter和不同的排序对象可以单独配置。Geezer使用了单例模式，确保只有一个对象实例存在。Line相关的设计将排序的槽位与被排序对象相互独立，可以动态配置。

可改进之处：
①由于葫芦娃只有7个所以Gourd类可以设为枚举类型，但是如果同类对象数量较多，或者数量可变，枚举所有对象会比较不便。
②排序的操作者老爷爷定义为单例Geezer，但是蛇精或者其他人物也有可能扮演这个操作者的角色（这里命名为Commander），场景中可以有爷爷指挥葫芦娃、蛇精指挥妖怪，两个人执行相似的操作，两个人都是Commander，可以分别使用不同的sorter、排序不同的对象. Commander应定义为一个抽象类或者接口，而爷爷或蛇精或其他操作者是实现Commander类的类的对象。Geezer.execute()中直接调用Gourd类的方法，则Geezer实际上是只能操作Gourd类这种具体的Linable的，如果设计了新类Monster也实现， Geezer无法操作Monster。可以将对Linable的通用操作放到Commander类中，将execute()之类的方法设为abstract，而在Geezer类的实现中再规定Geezer只能操作Gourd，Snake（蛇精）只能操作Monsters这种类型限制和Geezer必须是单例的限制。

## 任务二
按照上述改进思路，基于example代码进行修改实现了任务要求。
另外增加了ColorReader类用于从png图片读取颜色值。
类图：
![](http://www.plantuml.com/plantuml/png/dLAnZjGm4Etz5TPMZdQ3HElg40KKW80LDAShPfDXprh7jkm975hjlsF7Th89eg69FJFFxxsPoKCWy3GEcYb3w7z0X_neVRnU6UTxRQ4Ng750Gq56oEDJa_8XGiHqEoDzrc1YS6Eiqn02_pAgxf99k1fSUNr7sqAcukaUVe4JZVnfLRzGl4Tm_ykmDF916JXfd3e9qQSDYfGrmfMBh9dykBPJOSrSBvNle4UCwQYGXE0Ko4D7_AqT1Z1ziHOcbpARJGa7Fk0q91S_yaXUcNDJpiUd1BbMhXk-O3SIYa3eP2ZGwYuWPLgn4ba0MXdyvaGwPEmUgyeosQE12t9y8JHzM3bl_orzO_NvHsl2PYjtKsxzuNmuIQuCfUYlEJDU2KH6Hc3zYxw2kUJPfaJQwRm8C9QUqSjtTlJzzbU9yb5xrWgpM9piFXM5HdEcvrcBx1lluNVKAixPteqaT0vgyi1LUb7Kaa6H4nMmTl2ggaOh6oPMIrk9XgM5bc1Rl9jyNZBVlTxnrgPZMHjBsbFAjYtVVTgjpR1Lb76Pekw1FQ3fnq7_0G00)

由于asciinema未能安装成功，视频请见：
[task2视频（B站）](https://www.bilibili.com/video/BV1PQ4y167Em/)
或下载`/videos/jw02-task2.MOV`

## 任务三
代码基于任务二，类图相同，仅修改了Line类长度的定义（改成length=边长的平方）、Line.ToString()和Monster.ToString()实现了输出上的区别。

视频请见：
[task3视频（B站）](https://www.bilibili.com/video/BV17R4y1n7yM/)
或下载`/videos/jw02-task3.MOV`